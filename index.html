<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SCD Orb Magic Painter</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
    background: radial-gradient(circle at center, #0b0b1a, #111122);
    cursor: none;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  #orb {
    position: absolute;
    width: 80px;
    height: 80px;
    pointer-events: none;
    transition: transform 0.1s;
    z-index: 10;
  }

  canvas {
    position: absolute;
    top: 0;
    left: 0;
  }
</style>
</head>
<body>

<canvas id="canvas"></canvas>
<img src="scd-ball.svg" id="orb" alt="Magic Orb">

<script>
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
const orb = document.getElementById('orb');

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let mouse = { x: canvas.width/2, y: canvas.height/2 };
let isDrawing = false;

// Track mouse movement
document.addEventListener('mousemove', e => {
  mouse.x = e.clientX;
  mouse.y = e.clientY;
  orb.style.left = mouse.x + 'px';
  orb.style.top = mouse.y + 'px';
});

// Enable drawing
document.addEventListener('mousedown', () => isDrawing = true);
document.addEventListener('mouseup', () => isDrawing = false);

// Particle array
const particles = [];

function animate() {
  requestAnimationFrame(animate);

  // Draw semi-transparent background for trail effect
  ctx.fillStyle = 'rgba(11,11,26,0.1)';
  ctx.fillRect(0,0,canvas.width,canvas.height);

  if(isDrawing){
    // Add new particles at orb location
    for(let i=0;i<3;i++){
      particles.push({
        x: mouse.x + Math.random()*10-5,
        y: mouse.y + Math.random()*10-5,
        vx: Math.random()*2-1,
        vy: Math.random()*2-1,
        alpha: 1,
        radius: Math.random()*8+2,
        color: `hsl(${Math.random()*360}, 80%, 60%)`
      });
    }
  }

  // Draw and update particles
  for(let i=particles.length-1;i>=0;i--){
    const p = particles[i];
    p.x += p.vx;
    p.y += p.vy;
    p.alpha -= 0.02;
    ctx.beginPath();
    ctx.arc(p.x, p.y, p.radius, 0, Math.PI*2);
    ctx.fillStyle = `rgba(${p.color.replace('hsl','').split(',').join(',')},${p.alpha})`;
    ctx.fill();
    if(p.alpha <= 0) particles.splice(i,1);
  }
}

animate();

// Resize canvas dynamically
window.addEventListener('resize', () => {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});
</script>

</body>
</html>
