# 🎛️Quantifying Nostalgia in the Synthwave Continuum

## 🧮 **`simulate_timewarp.R`**

```r
simulate_timewarp <- function(timesteps = 200, vars) {
  nostalgia <- numeric(timesteps)
  decay <- vars$aesthetic_decay_rate
  base <- vars$nostalgia_index

  for (t in 1:timesteps) {
    nostalgia[t] <- base * exp(-decay * t) +
      sin(t / vars$memory_loop_count) * vars$digital_loneliness_factor
  }

  data.frame(
    time = 1:timesteps,
    nostalgia_level = nostalgia,
    glitch_intensity = abs(sin(2 * pi * vars$glitch_frequency * (1:timesteps)))
  )
}
```

---

## 🌈**`visualize_aesthetics.R`**

```r
library(ggplot2)

visualize_aesthetics <- function(sim_data) {
  ggplot(sim_data, aes(time, nostalgia_level)) +
    geom_line(color = "#ff66cc", size = 1.3) +
    geom_area(aes(y = glitch_intensity * 0.5), fill = "#00ffff", alpha = 0.3) +
    labs(
      title = "Nostalgia Flux Over Simulated Time",
      subtitle = "Temporal decay & glitch modulation in retro simulation",
      x = "Simulated Time",
      y = "Nostalgia Level"
    ) +
    theme_minimal(base_family = "Courier New") +
    theme(
      panel.background = element_rect(fill = "#0d0221"),
      plot.background = element_rect(fill = "#0d0221", color = NA),
      plot.title = element_text(color = "#ff66cc", size = 16),
      plot.subtitle = element_text(color = "#00ffff")
    )
}
```

## 🪩 **`vaporstat_app.R` (Dashboard Shiny)**

```r
library(shiny)

ui <- fluidPage(
  titlePanel("🪩 VaporStat Dashboard"),
  sidebarLayout(
    sidebarPanel(
      sliderInput("nostalgia", "Nostalgia Index", 0, 1, 0.91, step = 0.01),
      sliderInput("glitch", "Glitch Frequency", 0, 1, 0.12, step = 0.01),
      sliderInput("reflectivity", "Chrome Reflectivity", 0, 1, 0.9, step = 0.01)
    ),
    mainPanel(
      plotOutput("aestheticPlot")
    )
  )
)

server <- function(input, output) {
  output$aestheticPlot <- renderPlot({
    vars <- list(
      nostalgia_index = input$nostalgia,
      glitch_frequency = input$glitch,
      chrome_reflectivity = input$reflectivity,
      aesthetic_decay_rate = 0.0042,
      memory_loop_count = 8,
      digital_loneliness_factor = 0.84
    )
    data <- simulate_timewarp(300, vars)
    visualize_aesthetics(data)
  })
}

shinyApp(ui, server)
```

---

## 🌆 Animate neon skyline background with `gganimate`

🪩 **Dependencies**

```r
install.packages(c("ggplot2", "gganimate", "dplyr"))
```

---

## 💽 **Core Idea**

- Each “building” is a rectangle.
- Light windows flicker based on `city_light_flicker_rate`.
- A glowing horizon gradient creates the *retro sunrise* feel.
- Animation runs across “time” frames modulated by glitch + reflectivity.

---

## 🧮 **Data Generation + Animation Script**

Save this as `animate_skyline.R`:

```r
library(ggplot2)
library(gganimate)
library(dplyr)

# --- PARAMETERS ---
vars <- list(
  city_light_flicker_rate = 3.5,
  chrome_reflectivity = 0.9,
  glitch_frequency = 0.12
)

# --- BUILDING DATA ---
set.seed(84)
n_buildings <- 20
buildings <- data.frame(
  id = 1:n_buildings,
  x = seq(1, n_buildings * 2, by = 2),
  width = runif(n_buildings, 1.2, 1.8),
  height = runif(n_buildings, 4, 10),
  hue = runif(n_buildings, 280, 330) # vaporwave purples/pinks
)

# --- SIMULATION FRAMES ---
frames <- 80
city <- expand.grid(frame = 1:frames, id = buildings$id) %>%
  left_join(buildings, by = "id") %>%
  mutate(
    # Flicker intensity oscillates
    flicker = 0.6 + 0.4 * sin(2 * pi * vars$city_light_flicker_rate * frame / frames + id),
    # Chrome reflection shimmer (based on reflectivity)
    reflect = vars$chrome_reflectivity * (1 + sin(frame / 5 + id)),
    # Glitch jitter in x position
    x_jitter = x + sin(frame * vars$glitch_frequency + id) * 0.1
  )

# --- PLOT BASE ---
skyline_plot <- ggplot(city, aes(xmin = x_jitter, xmax = x_jitter + width,
                                 ymin = 0, ymax = height, fill = hue)) +
  geom_rect(color = "black", size = 0.1) +
  scale_fill_gradientn(colours = c("#ff00ff", "#ff66cc", "#00ffff")) +
  coord_fixed(ratio = 1/1.5, clip = "off") +
  labs(title = "🏙️ Neon Skyline — Frame: {frame}") +
  theme_void(base_family = "Courier") +
  theme(
    plot.background = element_rect(fill = "#0b0014", color = NA),
    panel.background = element_rect(fill = "#0b0014"),
    plot.title = element_text(color = "#ff66cc", hjust = 0.5, size = 16)
  ) +
  # Gradient sky overlay
  annotate("rect", xmin = -Inf, xmax = Inf, ymin = 0, ymax = 12,
           fill = "transparent", alpha = 0.6) +
  transition_states(frame, transition_length = 2, state_length = 1, wrap = TRUE) +
  ease_aes('sine-in-out')

# --- ANIMATE ---
animate(
  skyline_plot,
  nframes = frames,
  fps = 12,
  width = 800,
  height = 400,
  renderer = gifski_renderer("neon_skyline.gif")
)
```

---

## 🌀 **What It Does**

- Generates 20 buildings of random widths/heights.
- Flicker intensity cycles with `city_light_flicker_rate`.
- Buildings “glitch” (small shake) with `glitch_frequency`.
- Reflectivity subtly modulates the glow color intensity.
- The animation loops seamlessly — perfect for vaporwave visuals.